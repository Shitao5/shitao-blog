---
title: 2023 年周总结
author: shitao
date: '2023-02-19'
slug: 2023summary
categories: []
tags:
  - 周总结
description: ~
image: 2023.jpg
math: ~
license: ~
hidden: no
comments: yes
---

# 第 07 周（0212-0218）

本周一（0213）正式入职，开始数据分析实习。周一周二主要看公司文档，参加新人入职培训，熟悉公司的产品、运行模式。周三的数据核对工作，利用 R 语言很快解决了，周四周五配合策略分析师计算指标数据。在数据库操作上，发现自己的 MySQL 还不能满足工作需求，需尽快补上索引、窗口函数和复杂 SQL 优化方面的技能。

初入职场，在熟悉业务中探索职业发展方向。数据分析是一项技能，单纯用于职业发展显得单薄。目前想到两条发展路径：

1. 数据分析师 -> 策略分析师 -> 产品方向。可以结合经济学专业，发展路径比较成熟。
2. 数据科学家。技术精进是自己的追求，也是目前公司新业务线的需求，但难度大。

开始调整生活作息，努力增加骑行通勤次数，强身健体，工作生活和身体都顾上。 

下周：

1. 熟悉业务，继续学习 MySQL;
2. 了解策略分析师的指标构建过程；
3. 毕业论文（拖不下去了）。

# 第 08 周（0219-0225）

本周忙，我师傅说这周工作强度大于平常，这个强度对我来说还可以。这周主要配合策略分析师计算指标、确定阈值，还参与了几个指标的讨论和完善。工作很开心，同事间关系简单，部门同事很关照我这位实习生，我师傅会在忙中抽空问我感觉怎么样。最开心的是周五下班前策略跟我说「以后转策略分析师吧」*（已于<a class="link" href="#第-13-周0326-0401">四月</a>转岗）*。

随着工作不断上手，逐渐了解公司数据库的性能情况，周四（0223）晚下班前执行了几个查询，想在第二天早上来看结果，不料影响到了生产数据库，运维跑来让我注意 SQL 性能。

工作日下班回来小王会在校门口等我，不加班的时候我们一起吃晚饭，加班的时候我们一起散个步然后回寝室洗洗睡大觉。这周利用五点多早起的时间看完了[《白话机器学习的数学》](../../read/ml-math)，补机器学习的基础知识。

下周：

1. 尝试利用「MySQL 执行计划」优化 SQL 查询，如有必要，补充「存储」方面的知识；
1. 毕业论文。

# 第 09 周（0226-0304）

本周工作不忙，周五（0303）公司团建，和部门的小伙伴们一起爬山、吃吃喝喝、围炉煮茶。工作的四天活不多，大部分时间在学习公司内部分享的 MySQL 资料，目前学到关于索引、表锁等基础内容。本周接触到产品测试方面的一些内容，之前未曾了解过。

趁爬完山后的放松，周六（0304）在家琢磨了[用 R 读取 JSON 列](../../notes/clean-json)，日后很需要。

本周通勤全部打车，购买打车优惠券之后每次打车在 20-23 左右。白天上班路上看会儿书，Kindle 随身带；晚上返校路上闭目养神，「回魂」一下。

下周：

1. 毕业论文；
1. MySQL 资料；
1. 轮流刷《Google 软件测试之道》和《从零开始：机器学习的数学原理和算法实践》；
1. 为开启 C++ 学习做好心理准备。

# 第 10 周（0305-0311）

这周跑数据算指标，指标设计得很复杂，高强度使用 R 让我对 tidyverse 的掌握提升了不少，通过思考就可以排除一些不可行的解决方案，然后去尝试几种「大致可行」的方法，最终写出解决问题的代码，效率高很多。

这周最印象深刻的是：分组后用窗口函数的操作，底层用 tibble 跑了五十多分钟，而仅把底层改成 **data.table** 十三秒就搞定。借助 **dtplyr** 可以延续 tidyverse 语法写代码的简洁，又享受 **data.table** 带来的高效，是未来工作中处理较大数据量的好方案。

另外发现：在日期计算中涉及到月份计算需格外小心，因为月末天数不一致，很容易产生意料之外的问题（比如说 3 月 31 日往前推 1 个月，如果写 `ymd("2023-03-31") - months(1)` 则会返回 `NA`，因为 2 月没有 31 日，正确的写法是 `ymd("2023-03-31") %m-% months(1)`），需熟练掌握 [**lubridate**](https://lubridate.tidyverse.org/) 的功能，[速查表](https://github.com/rstudio/cheatsheets/blob/main/lubridate.pdf)写得很详细。

本周生活无恙。

下周：

1. 毕业论文（俺的论文有点[胡适打牌](https://news.ifeng.com/c/7puKwBbpl8J)的样子了）；
1. MySQL 资料；
1. 《从零开始：机器学习的数学原理和算法实践》；
1. 《C++ Primer Plus》慢慢看。

# 第 11 周（0312-0318）

这周赶上毕业论文中期检查，周一（0313）到周五（0317）前都搞得很紧张，这种被 Push 的滋味不好受。紧张又忙碌的一周，收获也很丰富：

1. 使用 **lubridate** 的 `%--%` 进行日期差计算时需注意日期正负；
1. 写 `case_when()` 时需注意判断逻辑的先后顺序；
1. 终于可以熟练使用 `map()` 系列函数了；
1. 学会使用 [**reticulate**](https://rstudio.github.io/reticulate/index.html) 包在 R 中调用 Python 脚本中定义的函数，目前对数据类型的转换还不是很熟悉，等熟练之后写一篇博客;
1. 在睡前和打车路上看完了[《从零开始：机器学习的数学原理和算法实践》](../../read/ml-math2)（*~~笔记仍在整理中~~ 笔记已在 0321 整理完毕*）。

这周六（0318）参与乐高活动，周五（0317）因为工作无法抽身去组织，这也让我有机会看到了小伙伴们的成长，毕业前慢慢将大部分工作交手出去。

下周：

1. 图谱分析学习；
1. 瞄几眼《C++ Primer Plus》；
1. 闲来无事时看会儿《戴建业精读老子》；
1. 哦该死的毕业论文。

# 第 12 周（0319-0325）

这周粗浅地学到了如何结合业务去分析无监督学习的结果，随着对业务的理解不断深入，慢慢把无监督学习纳入自己的工具框中。

实习已经一个多月了，在做的项目即将进入下一个阶段，回头看之前写过的代码，还有很多要改进的地方，记录一些粗浅的想法，或许日后可以独立成篇：

1. 代码的逻辑应跟着数据处理的逻辑，而不是函数书写的逻辑。这点感悟来自一个指标计算时犯下的错误：

    [dplyr 1.1.0](https://www.tidyverse.org/blog/2023/02/dplyr-1-1-0-pick-reframe-arrange/#reframe) 引入 `.by` 参数，它提供了简洁性，避免为简单的分组操作写下 `{data} %>% group_by() %>% foo_bar() %>% ungroup()` 一长串代码（`ungroup()` 是经常容易忘记的操作），而是直接 `foo_bar(..., .by = group)` 即可。然而前者也有优点，那就是思维上的连贯，更让管道操作符 `%>%` 具有「然后」的意味，`.by` 将「分组，然后计算」合二为一，变成「计算，以 group 分组」，在思维上有一个逆向的过程。在我尝试将这个更新纳入我的代码风格时，由于习惯了写前者，我会忘记写 `.by` 参数，导致没有进行分组计算而造成错误。
    
    为此，我计划以后在使用到类似的计算时，先写 `.by` 参数，变成 `foo_bar(.by = group, ...)`，这样可以延续前者思维上的连贯。

1. 如何组织数据分析的文件项目，将文件组织有序，让别人和日后的自己也可以轻松地看明白现在写下的代码，这和「写代码」一样重要。目前尝试尽量在 [Quarto](https://quarto.org/) 中进行数据分析，及时记录分析过程和结论，既方便组织，也方便分享。

下周：

1. 用 Quarto 写一下毕业论文的实证部分；
1. 《C++ Primer Plus》；
1. 《戴建业精读老子》。

# 第 13 周（0326-0401）

这周请了周四周五（0330-0331）两天假，合着周末两天，把论文写完了，因为 DDL 是第一生产力。四月开始转岗为<a class="link" href="#第-08-周0219-0225">策略分析师</a>，开始学新东西啦！不过要注意继续精进 R 语言。

下周：

1. [*The tidyverse style guide*](https://style.tidyverse.org/index.html)；
1. 《高性能 MySQL》（第 4 版）；
1. 《财务诡计》。

# 第 14 周（0402-0408）

这周在补财务方面的基础知识，包括财税票三部分，大一大二学的会计方面的课程还是有用处的。周三（0405）清明节一天假期，在寝室写了 [实习感悟](../../life/workandme)，感触很多。

下周要交毕业论文初稿，收到了同学的求助，帮他们处理论文中的实证部分。大三《计量经济学》课程中关于面板数据回归的部分已忘得差不多了，加之自己的毕业论文用的是截面数据，正好遇上其他同学需要，这周粗糙地补了补。周六（0408）和小王一起回家的时候重新翻了翻《为什么》，然后把两本 Angrist 的计量经济学教材都带回来了，有兴趣地时候翻吧。

周六（0408）公司搬家啦！现在在蒋村地铁站附近，离学校更近了。新工位反而有点小，置办了显示器增高架，明天（0410）去安上。

下周：

1. [*The tidyverse style guide*](https://style.tidyverse.org/index.html)；
1. 《财务诡计》；
1. 《图数据库》。

# 第 15 周（0409-0415）

上周六（0408）公司搬家出力多，周一晚（0410）被叫去聚餐啦哈哈！

这周二（0411）参与模型实施小组讨论，感受到了产品经理与模型研发人员视角的差异。简单来说，我们注重模型的准确性，产品经理还注重模型的快速响应和迭代。此外还看到数据开发人员对于数据存储的谨慎和长远规划。

周二晚（0411）还去听了关于 [ElaticSearch](https://www.elastic.co/elasticsearch/) 的技术分享，虽是管中窥豹，但对操作大数据的理解更近一步。

这周的工作除了熟悉财税票，还在重构前两个月来写过的 R 代码。回看之前写过的代码时常让我眉头紧蹙啊，看来之前的代码并不清晰明了，也缺乏关于「为何写这条代码」的注释。这次重构的时候除了注重代码的效率，也把代码的清晰明了摆在最前面。

毕业论文这一吃时间的「大老虎」在这周卷土重来，几乎除了上班就是在改毕业论文啦，还好第一次查重就满足了学院对毕业论文的重复率要求。

下周：

1. 《图数据库》；
1. [*Python and R for the Modern Data Scientist*](https://book.douban.com/subject/35553393/)。

# 第 16 周（0416-0422）

这周做了些数据测试的工作，当然不是做测试工程师哈哈。数据测试是个细活，一点点摸门道。为了方便测试，找 DBA 开通了数据库直连的权限。用 R 直连公司数据库，相比前两个月做 SQL Boy 自然是酷炫了很多。

上周重构了一次代码后，现在写代码就会想着要做抽象、要简洁、要可复用……不过 tidyverse 做了 data masking 和 tidy select，这对于使用 tidyverse 中的函数构造自己想要的函数有一定的难度。目前还没有掌握，争取早日突破！

下周三（0426）毕业答辩，特地把毕业论文实证部分的代码都[整理到了一起](https://shitao.quarto.pub/shitao-paper/)，但是偷懒没有做重构哈哈。

下周：

1. 学习 data masking 和 tidy select；
1. [*Mastering Shiny*](https://mastering-shiny.org/)；
1. [*Python and R for the Modern Data Scientist*](https://book.douban.com/subject/35553393/)。

# 第 17 周（0423-0429）

这周工作上主要做数据测试，字段开发的质量令人捉急。测试之余在写 Shiny 用于搭建模型工厂，之前的 Shiny 码力告急，边写边看 *Mastering Shiny* 回血。目前需攻克的是 Shiny 模块化的问题，减少代码量。写 Shiny 的时候写了一个挺满意的函数，工作中经常会用到，下周添加到俺的 stfun 里边。

周二（0425）在 yihui 的[提醒](https://github.com/Shitao5/blog-comments/discussions/25#discussioncomment-5719573)下把博客的评论系统改成了 Giscus，支持楼中楼，写博客的动力更强了。另外，yihui [提醒](https://github.com/Shitao5/blog-comments/discussions/22#discussioncomment-5719564)俺可以把公众号的正文也搬过来，俺动力十足。这周学习了一下 Pandoc。

周三（0426）毕业论文答辩终于结束了，可以放飞自我学习玩耍了。

下周：

1. [*Mastering Shiny*](https://mastering-shiny.org/)；
1. 《图数据库》
