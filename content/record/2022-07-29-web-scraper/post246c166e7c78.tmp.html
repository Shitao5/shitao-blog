<p>暑假过半，一个月来深入学习R语言，最近尝试横向发展了一下R语言技能，主要包括利用Rmd文件构建常用的幻灯片和网页文档、网络爬虫等。</p>
<p>此文用于记录爬虫使用心得，仅为个人理解，不足之处请指正。</p>
<p>简单理解，爬虫就是利用计算机替代了我们手工的复制粘贴，因此和手工复制一样，爬虫的关键是：</p>
<ol style="list-style-type: decimal">
<li>找到所有网页地址；</li>
<li>找到同一网页地址上所有所需信息的位置；</li>
<li>访问所有网页，获取所有信息。</li>
</ol>
<p>以翻页展示内容的网站<a href="https://www.digitaling.com/">数英网</a>进行举例，爬取该网站上与<strong>数据</strong>有关的文章信息：</p>
<div class="figure" style="text-align: center">
<img src="imgs/search.png" alt="在网页搜索框中输入关键词，这里为“数据”。" width="640" />
<p class="caption">
(#fig:search)在网页搜索框中输入关键词，这里为“数据”。
</p>
</div>
<div id="构建网页地址" class="section level1" number="1">
<h1><span class="header-section-number">1</span> 构建网页地址</h1>
<p>在搜索结果下点击“查看更多文章”后，可以看到页面需要进行翻页：</p>
<div class="figure" style="text-align: center">
<img src="imgs/search2.png" alt="通过点击翻页，并复制网址地址，可以发现网址中的规律" width="326" />
<p class="caption">
(#fig:search2)通过点击翻页，并复制网址地址，可以发现网址中的规律
</p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//</span>www.digitaling.com<span class="sc">/</span>search<span class="sc">/</span>articles<span class="sc">/</span><span class="dv">1</span>?kw<span class="ot">=</span><span class="sc">%E6%</span><span class="dv">95</span><span class="sc">%B0%</span>E6<span class="sc">%8D%</span>AE  <span class="co"># 第一页</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//</span>www.digitaling.com<span class="sc">/</span>search<span class="sc">/</span>articles<span class="sc">/</span><span class="dv">2</span>?kw<span class="ot">=</span><span class="sc">%E6%</span><span class="dv">95</span><span class="sc">%B0%</span>E6<span class="sc">%8D%</span>AE  <span class="co"># 第二页</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//</span>www.digitaling.com<span class="sc">/</span>search<span class="sc">/</span>articles<span class="sc">/</span><span class="dv">3</span>?kw<span class="ot">=</span><span class="sc">%E6%</span><span class="dv">95</span><span class="sc">%B0%</span>E6<span class="sc">%8D%</span>AE  <span class="co"># 第三页</span></span></code></pre></div>
<p>可以发现，除了网址中的1,2,3会随着翻页而改变，其余部分完全相同。由此，可以通过<code>paste0()</code>函数构建需要爬取的所有网页链接：</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 共有35页</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>urls <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;https://www.digitaling.com/search/articles/&quot;</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>               <span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;?kw=%E6%95%B0%E6%8D%AE&quot;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>urls</span></code></pre></div>
<pre><code>##  [1] &quot;https://www.digitaling.com/search/articles/1?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [2] &quot;https://www.digitaling.com/search/articles/2?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [3] &quot;https://www.digitaling.com/search/articles/3?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [4] &quot;https://www.digitaling.com/search/articles/4?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [5] &quot;https://www.digitaling.com/search/articles/5?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [6] &quot;https://www.digitaling.com/search/articles/6?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [7] &quot;https://www.digitaling.com/search/articles/7?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [8] &quot;https://www.digitaling.com/search/articles/8?kw=%E6%95%B0%E6%8D%AE&quot; 
##  [9] &quot;https://www.digitaling.com/search/articles/9?kw=%E6%95%B0%E6%8D%AE&quot; 
## [10] &quot;https://www.digitaling.com/search/articles/10?kw=%E6%95%B0%E6%8D%AE&quot;
## [11] &quot;https://www.digitaling.com/search/articles/11?kw=%E6%95%B0%E6%8D%AE&quot;
## [12] &quot;https://www.digitaling.com/search/articles/12?kw=%E6%95%B0%E6%8D%AE&quot;
## [13] &quot;https://www.digitaling.com/search/articles/13?kw=%E6%95%B0%E6%8D%AE&quot;
## [14] &quot;https://www.digitaling.com/search/articles/14?kw=%E6%95%B0%E6%8D%AE&quot;
## [15] &quot;https://www.digitaling.com/search/articles/15?kw=%E6%95%B0%E6%8D%AE&quot;
## [16] &quot;https://www.digitaling.com/search/articles/16?kw=%E6%95%B0%E6%8D%AE&quot;
## [17] &quot;https://www.digitaling.com/search/articles/17?kw=%E6%95%B0%E6%8D%AE&quot;
## [18] &quot;https://www.digitaling.com/search/articles/18?kw=%E6%95%B0%E6%8D%AE&quot;
## [19] &quot;https://www.digitaling.com/search/articles/19?kw=%E6%95%B0%E6%8D%AE&quot;
## [20] &quot;https://www.digitaling.com/search/articles/20?kw=%E6%95%B0%E6%8D%AE&quot;
## [21] &quot;https://www.digitaling.com/search/articles/21?kw=%E6%95%B0%E6%8D%AE&quot;
## [22] &quot;https://www.digitaling.com/search/articles/22?kw=%E6%95%B0%E6%8D%AE&quot;
## [23] &quot;https://www.digitaling.com/search/articles/23?kw=%E6%95%B0%E6%8D%AE&quot;
## [24] &quot;https://www.digitaling.com/search/articles/24?kw=%E6%95%B0%E6%8D%AE&quot;
## [25] &quot;https://www.digitaling.com/search/articles/25?kw=%E6%95%B0%E6%8D%AE&quot;
## [26] &quot;https://www.digitaling.com/search/articles/26?kw=%E6%95%B0%E6%8D%AE&quot;
## [27] &quot;https://www.digitaling.com/search/articles/27?kw=%E6%95%B0%E6%8D%AE&quot;
## [28] &quot;https://www.digitaling.com/search/articles/28?kw=%E6%95%B0%E6%8D%AE&quot;
## [29] &quot;https://www.digitaling.com/search/articles/29?kw=%E6%95%B0%E6%8D%AE&quot;
## [30] &quot;https://www.digitaling.com/search/articles/30?kw=%E6%95%B0%E6%8D%AE&quot;
## [31] &quot;https://www.digitaling.com/search/articles/31?kw=%E6%95%B0%E6%8D%AE&quot;
## [32] &quot;https://www.digitaling.com/search/articles/32?kw=%E6%95%B0%E6%8D%AE&quot;
## [33] &quot;https://www.digitaling.com/search/articles/33?kw=%E6%95%B0%E6%8D%AE&quot;
## [34] &quot;https://www.digitaling.com/search/articles/34?kw=%E6%95%B0%E6%8D%AE&quot;
## [35] &quot;https://www.digitaling.com/search/articles/35?kw=%E6%95%B0%E6%8D%AE&quot;</code></pre>
</div>
